(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(30)},16:function(e,t,a){},18:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){},28:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),o=(a(16),a(2)),s=a(3),l=a(5),u=a(4),m=a(6),h=a(1),d=(a(18),a(7)),f=a.n(d),p=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).submitHandler=function(t){t.preventDefault(),e.props.searchHandler(e.state.searchInput)},e.inputHandler=function(t){e.setState({searchInput:t.target.value})},e.submitHandler=e.submitHandler.bind(Object(h.a)(Object(h.a)(e))),e.inputHandler=e.inputHandler.bind(Object(h.a)(Object(h.a)(e))),e.state={searchInput:""},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("searchInputField").addEventListener("keyup",function(e){e.preventDefault(),13===e.keyCode&&document.getElementById("searchInputBtn").click()})}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.submitHandler,className:"searchbox"},r.a.createElement("input",{id:"searchInputField",type:"text",value:this.state.searchInput,onChange:this.inputHandler}),r.a.createElement("button",{id:"searchInputBtn",type:"submit"},r.a.createElement(f.a,{name:"fas fa-search",style:{color:"#fff"}})," "))}}]),t}(r.a.Component),v=(a(24),function(e){var t=e.item,a=e.favourited,n=e.onClick;return r.a.createElement("div",{className:"item"},r.a.createElement("h3",null,r.a.createElement("span",{className:"push-right",onClick:function(){return n(t)},role:"img"},a?r.a.createElement(f.a,{name:"star",style:{color:"#28955D"}}):r.a.createElement(f.a,{name:"star",style:{color:"#A8A8A8"}})),t.title),r.a.createElement("div",{id:"item-body",dangerouslySetInnerHTML:{__html:t.body.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;nbsp;/g," ")}}))}),b=(a(26),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isFavourited=function(e){for(var t=0;t<a.props.favouriteList.length;t++)if(a.props.favouriteList[t].title===e.title)return!0;return!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.items,n=t.onClick;return r.a.createElement("div",{className:"item-list"},a.map(function(t,a){return r.a.createElement(v,{key:a,item:t,favourited:e.isFavourited(t),onClick:n})}))}}]),t}(r.a.Component)),g=(a(28),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).onSearchClick=function(t){e.setState({searchField:t})},e.toggleFavourite=function(t){for(var a=!1,n=e.state.favouriteList,r=0;!a&&r<n.length;)e.state.favouriteList[r].title===t.title&&(a=!0,n.splice(r,1)),r++;a||n.push(t),e.setState(n)},e.onSearchClick=e.onSearchClick.bind(Object(h.a)(Object(h.a)(e))),e.state={itemList:[],favouriteList:[],searchField:""},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=1000").then(function(e){return e.json()}).then(function(t){return e.setState({itemList:t})})}},{key:"render",value:function(){var e=this.state,t=e.itemList,a=e.favouriteList,n=e.searchField,i=[];return n.length&&(i=t.filter(function(e){return e.keywords.toLowerCase().includes(n.toLowerCase())})),t.length?a.length<=1?r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"banner center"},"Toronto Waste Lookup"),r.a.createElement("div",{className:"container"},r.a.createElement(p,{searchHandler:this.onSearchClick}),r.a.createElement(b,{items:i,favouriteList:a,onClick:this.toggleFavourite}))):r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"banner center"},"Toronto Waste Lookup"),r.a.createElement("div",{className:"container"},r.a.createElement(p,{className:"search-box",searchHandler:this.onSearchClick}),r.a.createElement(b,{items:i,favouriteList:a,onClick:this.toggleFavourite}),r.a.createElement("h1",{className:"ugh-header"},"Favourites"),r.a.createElement(b,{items:a,favouriteList:a,onClick:this.toggleFavourite}))):r.a.createElement("h1",{className:"center"},"Loading...")}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.c26ea141.chunk.js.map